# Практика № 3. Куров М.В. ББМО-01-23

Honeypot (с англ. — «горшочек с мёдом») — ресурс, представляющий собой приманку для злоумышленников.
Задача Honeypot — подвергнуться атаке или несанкционированному исследованию, что впоследствии позволит изучить стратегию злоумышленника и определить перечень средств, с помощью которых могут быть нанесены удары по реально существующим объектам безопасности. Реализация Honeypot может представлять собой как специальный выделенный сервер, так и один сетевой сервис, задача которого — привлечь внимание взломщиков.
Honeypot представляет собой ресурс, который без какого-либо воздействия на него ничего не делает. Honeypot собирает небольшое количество информации, после анализа которой строится статистика методов, которыми пользуются взломщики, а также определяется наличие каких-либо новых решений, которые впоследствии будут применяться в борьбе с ними.
Например, веб-сервер, который не имеет имени и фактически никому не известен, не должен, соответственно, иметь и гостей, заходящих на него, поэтому все лица, которые пытаются на него проникнуть, являются потенциальными взломщиками. Honeypot собирает информацию о характере поведения этих взломщиков и об их способах воздействия на сервер. После чего специалисты в области информационной безопасности разрабатывают стратегии отражения атак злоумышленников.
Технологии Honeypot предоставляют аналитикам некоторые преимущества :
сбор содержательной информации;
нетребовательность к системным ресурсам;
простота установки, конфигурирования и эксплуатации;
наглядность необходимости использования.
Средства Honeypot имеют несколько недостатков. Honeypot не заменяют никаких механизмов безопасности; они только работают и расширяют полную архитектуру безопасности.
Главными проблемами средств Honeypot являются:
ограниченная область видения;
возможность раскрытия Honeypot;
риск взлома Honeypot и атаки узлов посторонних организаций.
Технология Deception начинает свой путь с классических Honeypot и добавляет к этому технологии по заманиваю злоумышленников на сами Honeypot.
По всей существующей рабочей инфраструктуре размещаются «приманки». Это артефакты, которые ведут на honeypot. Представлены эти артефакты могут быть, например, записями о подключении к сетевым дискам. В выводе net use видны сетевые папки, тогда как для пользователя они не видны и не мешают работе. Однако, если злоумышленник уже имеет точку в инфраструктуре, он видит эти «артефакты» и пытается посмотреть, что же там находится по указанным адресам и тем самым выдает себя.
Кроме того, существуют способы убеждения злоумышленника, что он взаимодействует с реальной инфраструктурой. Злоумышленник с Honeypot проксируется на реальную, специальным образом подготовленную, инфраструктуру.
Поскольку система имеет очень низкое количество ложных срабатываний, то к таким классам решений добавляют интеграцию с различными средствами защиты информации (Firewall, Sandbox, Endpoint Clients и т.д.), в том числе для автоматического блокирования узла или целой подсети.
Автоматизация в таких решениях занимает отдельное место: она реализована, начиная от выбора имитируемой ОС и разворачивания honeypot в инфраструктуре, и до обновления «приманок» и блокировки злоумышленника.
Решения подобного класса ориентированы не только на офисные информационные системы, но и на оборудование сетей АСУ ТП, что делает спектр их применения очень широким. Ещё нельзя не отметить возможность ограничить взаимодействие со стороны Deception продукта с окружением в сети, что позволяет говорить о минимально возможном воздействии на окружающую инфраструктуру.
Данные решения покрывают большое количество кейсов, но особенно эффективно показывают себя в выявлении внутренних злоумышленников и вирусного программного обеспечения.

### Развертывание

1. Запустить Honeypot

```
cd Deception
docker-compose up
```

![развёртывание 1](https://github.com/106maksim/ZIS/assets/71127999/a78c2ab0-8d77-483a-867d-3bb583d43457)

Запускаем Honeypot для отслеживания активности злоумышленника

2. Сделать файл исполняемым и запустить

```
chmod +x hackersActivity
./hackersActivity
```

![развёртывание 2](https://github.com/106maksim/ZIS/assets/71127999/5effb143-0d9c-4ea8-90a4-a266d81dbdf5)

Запускаем файл, который будет имитировать активность злоумышленника

3. Открыть логи honeypot

```
docker-compose logs -f
```

![развёртывание 3](https://github.com/106maksim/ZIS/assets/71127999/3575277f-9338-4c3e-89aa-eacadb4bf844)

Наблюдаем за действиями злоумышленника, которые выводит Honeypot

# Посмотрим активность злоумышленника через логи 
## SSH
подключение по кредам root/root

![image](https://github.com/106maksim/ZIS/assets/71127999/06094b34-d97e-4fa9-884c-12974ba2992c)

## Выполнение команд
“pwd” - выводит полный путь от корневого каталога к текущему рабочему каталогу

“ip a” - информация о подключениях хост

“crontab -l” - показать содержимое файла “crontab”

“ls -la” - отображает все файлы в директории включая скрытые

“cat /etc/shadow“ - отображает содержимое файла “shadow”

![image](https://github.com/106maksim/ZIS/assets/71127999/71a67539-9e2e-4a72-b11e-4634594af694)

## Telnet
подключение по кредам root/root

![image](https://github.com/106maksim/ZIS/assets/71127999/0a6ba81c-d455-4981-bb71-59e4ac9b159d)

## Выполнение команд
system-view - переход в системный режим из пользовательского режима.

display snmp-server arp-sync table – ARP записи, синхронизированные через SNMP

display arp interface GigabitEthernet 0/0/1 – ARP записи, относящиеся к указанному интерфейсу

display ipsec-tunnel limit vpn-instance vpna - количество возможных подключений к VPN

display ip vpn-instance - отображает конфигурацию сервера VPN

![image](https://github.com/106maksim/ZIS/assets/71127999/f697290a-d88e-4e8b-b94e-b33a56dacedc)

## Http
Переход по оставленным в открытом доступе страницам

login.php - страница логина

robots.txt

sitemap.xml - карта сайта

admin.php - страница админ панели

![image](https://github.com/106maksim/ZIS/assets/71127999/b639d8fa-48f8-47cd-a37b-1d3ac4647dc1)

## Redis
Команды

GET admin - возвращение значения по ключу admin - вероятно вся информация о пользователе

CLIENT LIST - возвращение информацию и статистику о клиентских подключениях

CONFIG GET * - используется для чтения параметров конфигурации Redis

SELECT 1 - выбор логическрй базы данных с индексом 1

INFO – информация о базе данны

![image](https://github.com/106maksim/ZIS/assets/71127999/17e73aaa-de54-4cda-8e8d-968af69eea58)

FTP
Подключение по кредам anonymous/anonymous

![image](https://github.com/106maksim/ZIS/assets/71127999/00e86c37-b99b-438c-95d1-c1f0cbab1ac8)

Выполняемые команды
FEAT – показывает дополнительные команды, поддерживаемые сервером

HELP - выводит команды FTP

PWD – получает имя текущего каталога

LIST -l – выводит список файлов

APPE /exploit.sh – загружает файл exploit.sh

STOR /etc/passwd – заменяет файл passwd на хосте

![image](https://github.com/106maksim/ZIS/assets/71127999/c71616da-e736-44c1-9a0e-85c418a9534d)
